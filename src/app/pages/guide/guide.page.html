<ion-content class="guide-content" [scrollEvents]="true" [fullscreen]="true">
  
  <!-- Header Verde -->
  <div class="guide-header">
    <ion-button fill="clear" class="back-button" (click)="goBack()">
      <ion-icon name="arrow-back" slot="icon-only"></ion-icon>
    </ion-button>
    <div class="header-content">
      <h1 class="header-title">Gu칤a de Uso</h1>
      <p class="header-subtitle">
        <ion-icon name="book-outline"></ion-icon>
        Manual de la Incubadora
      </p>
    </div>
  </div>

  <!-- Pull to Refresh -->
  <ion-refresher slot="fixed" (ionRefresh)="refreshData($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <!-- Tarjeta de Bienvenida -->
  <div class="welcome-card">
    <div class="welcome-icon">
      <img src="assets/logo 1.png" alt="GreenBox">
    </div>
    <h2>춰Bienvenido a tu Incubadora GREENBOX!</h2>
    <p>Aprende a usar y optimizar tu sistema de cultivo inteligente</p>
  </div>

  <!-- Navegaci칩n R치pida -->
  <div class="quick-nav">
    <div class="nav-item" (click)="scrollToSection('parametros')">
      <ion-icon name="analytics-outline"></ion-icon>
      <span>Par치metros</span>
    </div>
    <div class="nav-item" (click)="scrollToSection('sensores')">
      <ion-icon name="hardware-chip-outline"></ion-icon>
      <span>Sensores</span>
    </div>
    <div class="nav-item" (click)="scrollToSection('alertas')">
      <ion-icon name="notifications-outline"></ion-icon>
      <span>Alertas</span>
    </div>
    <div class="nav-item" (click)="scrollToSection('consejos')">
      <ion-icon name="bulb-outline"></ion-icon>
      <span>Consejos</span>
    </div>
  </div>

  <!-- Secci칩n: Par치metros 칍ptimos -->
  <div class="section-card" id="parametros">
    <div class="section-header">
      <ion-icon name="analytics-outline" class="section-icon"></ion-icon>
      <h3>Par치metros 칍ptimos</h3>
    </div>
    <div class="section-content">
      <p class="section-intro">Mant칠n estos valores para un crecimiento saludable de tus plantas:</p>
      
      <!-- Temperatura -->
      <div class="param-guide">
        <div class="param-icon-wrap temp-color">
          <img src="assets/icon/temperatura.png" alt="Temperatura">
        </div>
        <div class="param-info">
          <h4>Temperatura</h4>
          <div class="param-range">
            <span class="range-value">20춿C - 26춿C</span>
            <ion-badge color="success">Rango 칍ptimo</ion-badge>
          </div>
          <p class="param-desc">
            La temperatura ideal para la mayor칤a de plantas de hoja verde. Temperaturas muy altas pueden causar marchitez, mientras que muy bajas ralentizan el crecimiento.
          </p>
          <div class="param-tips">
            <div class="tip-item">
              <ion-icon name="checkmark-circle" color="success"></ion-icon>
              <span>Mant칠n ventilaci칩n adecuada</span>
            </div>
            <div class="tip-item">
              <ion-icon name="checkmark-circle" color="success"></ion-icon>
              <span>Evita cambios bruscos de temperatura</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Humedad -->
      <div class="param-guide">
        <div class="param-icon-wrap hum-color">
          <img src="assets/icon/humedad.png" alt="Humedad">
        </div>
        <div class="param-info">
          <h4>Humedad</h4>
          <div class="param-range">
            <span class="range-value">60% - 75%</span>
            <ion-badge color="success">Rango 칍ptimo</ion-badge>
          </div>
          <p class="param-desc">
            La humedad relativa adecuada previene la deshidrataci칩n de las plantas y favorece la absorci칩n de nutrientes. Demasiada humedad puede causar hongos.
          </p>
          <div class="param-tips">
            <div class="tip-item">
              <ion-icon name="checkmark-circle" color="success"></ion-icon>
              <span>Monitorea diariamente</span>
            </div>
            <div class="tip-item">
              <ion-icon name="checkmark-circle" color="success"></ion-icon>
              <span>Aumenta ventilaci칩n si es muy alta</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Luz -->
      <div class="param-guide">
        <div class="param-icon-wrap light-color">
          <img src="assets/icon/luz.png" alt="Luz">
        </div>
        <div class="param-info">
          <h4>Intensidad de Luz</h4>
          <div class="param-range">
            <span class="range-value">60% - 85%</span>
            <ion-badge color="success">Rango 칍ptimo</ion-badge>
          </div>
          <p class="param-desc">
            La luz es esencial para la fotos칤ntesis. Las plantas necesitan entre 12-16 horas de luz diarias. La intensidad ideal depende del tipo de planta.
          </p>
          <div class="param-tips">
            <div class="tip-item">
              <ion-icon name="checkmark-circle" color="success"></ion-icon>
              <span>12-16 horas de luz al d칤a</span>
            </div>
            <div class="tip-item">
              <ion-icon name="checkmark-circle" color="success"></ion-icon>
              <span>Mant칠n ciclos regulares</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Nivel de Agua -->
      <div class="param-guide">
        <div class="param-icon-wrap water-color">
          <img src="assets/icon/agua.png" alt="Agua">
        </div>
        <div class="param-info">
          <h4>Nivel de Agua</h4>
          <div class="param-range">
            <span class="range-value">M칤nimo 50%</span>
            <ion-badge color="primary">Mantener</ion-badge>
          </div>
          <p class="param-desc">
            El sistema de riego autom치tico mantiene la humedad del sustrato. Aseg칰rate de rellenar el tanque cuando el nivel baje del 50%.
          </p>
          <div class="param-tips">
            <div class="tip-item">
              <ion-icon name="checkmark-circle" color="success"></ion-icon>
              <span>Rellena cuando llegue a 30%</span>
            </div>
            <div class="tip-item">
              <ion-icon name="checkmark-circle" color="success"></ion-icon>
              <span>Usa agua limpia y fresca</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Secci칩n: Sensores -->
  <div class="section-card" id="sensores">
    <div class="section-header">
      <ion-icon name="hardware-chip-outline" class="section-icon"></ion-icon>
      <h3>Sistema de Sensores</h3>
    </div>
    <div class="section-content">
      <p class="section-intro">Tu incubadora cuenta con sensores de 칰ltima generaci칩n:</p>

      <div class="sensor-item">
        <div class="sensor-number">1</div>
        <div class="sensor-details">
          <h4>Sensor de Temperatura DHT22</h4>
          <p>Mide la temperatura ambiente con precisi칩n de 췀0.5춿C. Actualizaci칩n cada 2 segundos.</p>
        </div>
      </div>

      <div class="sensor-item">
        <div class="sensor-number">2</div>
        <div class="sensor-details">
          <h4>Sensor de Humedad DHT22</h4>
          <p>Mide la humedad relativa del aire con precisi칩n de 췀2%. Integrado con el sensor de temperatura.</p>
        </div>
      </div>

      <div class="sensor-item">
        <div class="sensor-number">3</div>
        <div class="sensor-details">
          <h4>Sensor de Luz LDR</h4>
          <p>Fotoresistencia que detecta la intensidad lum칤nica. Ideal para controlar ciclos de luz.</p>
        </div>
      </div>

      <div class="sensor-item">
        <div class="sensor-number">4</div>
        <div class="sensor-details">
          <h4>Sensor de Nivel de Agua</h4>
          <p>Monitorea el nivel del tanque de agua para el sistema de riego autom치tico.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Secci칩n: Sistema de Alertas -->
  <div class="section-card" id="alertas">
    <div class="section-header">
      <ion-icon name="notifications-outline" class="section-icon"></ion-icon>
      <h3>Sistema de Alertas</h3>
    </div>
    <div class="section-content">
      <p class="section-intro">GREENBOX te alertar치 cuando detecte estas condiciones:</p>

      <div class="alert-guide">
        <div class="alert-badge optimal">
          <ion-icon name="checkmark-circle"></ion-icon>
        </div>
        <div class="alert-details">
          <h4>Estado 칍ptimo</h4>
          <p>Todos los par치metros dentro del rango ideal. Tu planta est치 en condiciones perfectas.</p>
        </div>
      </div>

      <div class="alert-guide">
        <div class="alert-badge warning">
          <ion-icon name="warning"></ion-icon>
        </div>
        <div class="alert-details">
          <h4>Advertencia</h4>
          <p>Uno o m치s par치metros cerca del l칤mite. Revisa y ajusta si es necesario.</p>
        </div>
      </div>

      <div class="alert-guide">
        <div class="alert-badge critical">
          <ion-icon name="alert-circle"></ion-icon>
        </div>
        <div class="alert-details">
          <h4>Cr칤tico</h4>
          <p>Par치metros fuera de rango. Acci칩n inmediata requerida para proteger tu cultivo.</p>
        </div>
      </div>

      <div class="alert-guide">
        <div class="alert-badge water">
          <ion-icon name="water"></ion-icon>
        </div>
        <div class="alert-details">
          <h4>Nivel de Agua Bajo</h4>
          <p>El tanque necesita ser rellenado. El sistema de riego puede verse afectado.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Secci칩n: Consejos Pr치cticos -->
  <div class="section-card" id="consejos">
    <div class="section-header">
      <ion-icon name="bulb-outline" class="section-icon"></ion-icon>
      <h3>Consejos Pr치cticos</h3>
    </div>
    <div class="section-content">
      
      <div class="tip-card">
        <div class="tip-number">游눠</div>
        <div class="tip-content">
          <h4>Revisa Diariamente</h4>
          <p>Dedica 2-3 minutos al d칤a para revisar los par치metros en la app. La constancia es clave.</p>
        </div>
      </div>

      <div class="tip-card">
        <div class="tip-number">游꺔</div>
        <div class="tip-content">
          <h4>Ajusta seg칰n la Planta</h4>
          <p>Cada tipo de planta tiene necesidades espec칤ficas. Usa la secci칩n de "Perfiles de Plantas" para optimizar.</p>
        </div>
      </div>

      <div class="tip-card">
        <div class="tip-number">游눦</div>
        <div class="tip-content">
          <h4>Mant칠n el Agua Limpia</h4>
          <p>Cambia el agua del tanque cada 7-10 d칤as para evitar algas y bacterias.</p>
        </div>
      </div>

      <div class="tip-card">
        <div class="tip-number">游댅</div>
        <div class="tip-content">
          <h4>Ciclos de Luz Regulares</h4>
          <p>Mant칠n un horario constante de luz (ej: 6am-10pm) para mejores resultados.</p>
        </div>
      </div>

      <div class="tip-card">
        <div class="tip-number">游늵</div>
        <div class="tip-content">
          <h4>Analiza el Historial</h4>
          <p>Usa la secci칩n de historial para identificar patrones y optimizar las condiciones.</p>
        </div>
      </div>

      <div class="tip-card">
        <div class="tip-number">游댢</div>
        <div class="tip-content">
          <h4>Mantenimiento Regular</h4>
          <p>Limpia los sensores mensualmente con un pa침o suave para mantener la precisi칩n.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Secci칩n: Soluci칩n de Problemas -->
  <div class="section-card">
    <div class="section-header">
      <ion-icon name="construct-outline" class="section-icon"></ion-icon>
      <h3>Soluci칩n de Problemas</h3>
    </div>
    <div class="section-content">
      
      <ion-accordion-group>
        <ion-accordion value="temp-alta">
          <ion-item slot="header">
            <ion-label>
              <h3>Temperatura muy alta</h3>
            </ion-label>
          </ion-item>
          <div class="accordion-content" slot="content">
            <p><strong>Causas:</strong> Luz muy intensa, poca ventilaci칩n, ubicaci칩n directa al sol.</p>
            <p><strong>Soluciones:</strong></p>
            <ul>
              <li>Reduce la intensidad de las luces LED</li>
              <li>Mejora la ventilaci칩n del 치rea</li>
              <li>Coloca la incubadora en un lugar m치s fresco</li>
            </ul>
          </div>
        </ion-accordion>

        <ion-accordion value="hum-baja">
          <ion-item slot="header">
            <ion-label>
              <h3>Humedad muy baja</h3>
            </ion-label>
          </ion-item>
          <div class="accordion-content" slot="content">
            <p><strong>Causas:</strong> Ambiente seco, exceso de ventilaci칩n.</p>
            <p><strong>Soluciones:</strong></p>
            <ul>
              <li>Coloca un recipiente con agua dentro</li>
              <li>Reduce la ventilaci칩n</li>
              <li>Usa un humidificador cerca</li>
            </ul>
          </div>
        </ion-accordion>

        <ion-accordion value="luz-baja">
          <ion-item slot="header">
            <ion-label>
              <h3>Luz insuficiente</h3>
            </ion-label>
          </ion-item>
          <div class="accordion-content" slot="content">
            <p><strong>Causas:</strong> LEDs apagados, ubicaci칩n oscura, sensores sucios.</p>
            <p><strong>Soluciones:</strong></p>
            <ul>
              <li>Verifica que las luces LED funcionen</li>
              <li>Limpia el sensor de luz</li>
              <li>Aumenta las horas de iluminaci칩n</li>
            </ul>
          </div>
        </ion-accordion>

        <ion-accordion value="agua-rapida">
          <ion-item slot="header">
            <ion-label>
              <h3>Agua se consume muy r치pido</h3>
            </ion-label>
          </ion-item>
          <div class="accordion-content" slot="content">
            <p><strong>Causas:</strong> Fuga en el sistema, temperatura alta, bomba defectuosa.</p>
            <p><strong>Soluciones:</strong></p>
            <ul>
              <li>Revisa tuber칤as y conexiones</li>
              <li>Verifica la bomba de riego</li>
              <li>Reduce temperatura si es muy alta</li>
            </ul>
          </div>
        </ion-accordion>
      </ion-accordion-group>
    </div>
  </div>

  <!-- Contacto/Soporte -->
  <div class="support-card">
    <ion-icon name="help-circle-outline"></ion-icon>
    <h3>쯅ecesitas m치s ayuda?</h3>
    <p>Estamos aqu칤 para ayudarte con tu cultivo inteligente</p>
    <ion-button expand="block" fill="outline">
      <ion-icon name="mail-outline" slot="start"></ion-icon>
      Contactar Soporte
    </ion-button>
  </div>

</ion-content>